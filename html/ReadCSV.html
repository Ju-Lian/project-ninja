<!DOCTYPE html>
<meta charset="utf-8">
<html>
<head>
	<title>Margin Volume Chart</title>
	<link rel="stylesheet" type="text/css" href="../style/MarginVolume.css">
</head>
<body>
	<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> 
	<!--script src="../js/d3.v3.min.js" charset="utf-8"></script NSQ84-49X77-G5HOE-ZOU32-->
	<script src="../js/chartlib.js"></script> 
	<script src="../js/ReadCSV.js"></script> 
	
	<script type="text/javascript" >	
		var width = 400;
		var height = 300;
		var svg = d3.select("body").append("svg")
				.attr("width", width)
				.attr("height", height);	
		var marginVolumeBars;
		
		function init(data) {
			marginVolumeBars = new MarginVolumeBars
			({
				svg: svg,
				width: width,
				height: height,
				name: "Margin Quantity Chart",
				padding: 50,
				rangeBandsInnerPadding: .1,
				rangeBandsOuterPadding: .6,
				sortByVolume: true,
				showGridLines: true,
				data: data
			});
		}		
		
		function update(data) {
			marginVolumeBars.update(data);
		}
		
		function updateButton() {
			var path="../data/MarginVolumeUpdate.csv"; //CSV file
			ReadCSV_VolumeMargin(path, update); // second parameter: custom function
		}
		
		window.onload = function()
		{		
			var path="../data/MarginVolume.csv"; //CSV file
			ReadCSV_VolumeMargin(path, init); // second parameter: custom function
		}
	</script>
<button type="button" onclick="updateButton()">Update</button>
</body>

</html> 